(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){},13:function(e,t,a){e.exports=a(22)},22:function(e,t,a){"use strict";a.r(t);a(14);var n=a(0),s=a.n(n),c=a(11),o=a(3);const r=Object(c.a)({apiKey:"AIzaSyB7SZ20O6djh2NzZcDqBsi7MIWjpWrg-x4",authDomain:"slutprojekt-scrum-board.firebaseapp.com",projectId:"slutprojekt-scrum-board",storageBucket:"slutprojekt-scrum-board.appspot.com",messagingSenderId:"902046492840",appId:"1:902046492840:web:84b3baa8bf8caf62e03a9d",measurementId:"G-WQ42ZRXHKG"}),l=Object(o.f)(r);a(10);const i={ux:"card-ux","dev frontend":"card-dev-frontend","dev backend":"card-dev-backend",design:"card-design",testing:"card-testing"},m={ux:"tag-ux","dev frontend":"tag-dev-frontend","dev backend":"tag-dev-backend",design:"tag-design",testing:"tag-testing"};var d=e=>{let{tasks:t,setTasks:a,loading:c}=e;const[r,d]=Object(n.useState)(null),[u,g]=Object(n.useState)({}),[b,p]=Object(n.useState)({}),[v,E]=Object(n.useState)(""),[k,N]=Object(n.useState)(null),f=(e,t)=>{e.preventDefault(),(async e=>{const t=u[e];if(t)try{const n=Object(o.d)(l,"assignments",e);await Object(o.g)(n,{assigned:t,status:"in progress"}),a(a=>a.map(a=>a.id===e?{...a,assigned:t,status:"in progress"}:a)),g(t=>({...t,[e]:""})),p(t=>({...t,[e]:""})),d(null)}catch(r){d("Error assigning task: "+r.message)}else p(t=>({...t,[e]:""}))})(t)},j=(e,n)=>{const s=t.findIndex(t=>t.id===e);if(-1===s)return;const c=[...t],[o]=c.splice(s,1);"up"===n&&s>0?c.splice(s-1,0,o):"down"===n&&s<t.length-1&&c.splice(s+1,0,o),a(c)},y=(e,n)=>{const c=t.filter(t=>t.status===e);return s.a.createElement("div",{className:"task-column"},s.a.createElement("h2",{className:"column-header"},n),c.map((t,n)=>{const v=u[t.id]||"",E=b[t.id]||"";return s.a.createElement("div",{key:t.id,className:"card mb-3 ".concat(i[t.category])},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"category-tag ".concat(m[t.category])},t.category),s.a.createElement("h5",{className:"card-title"},t.assignment),s.a.createElement("p",{className:"card-text"},"Assigned to: ",t.assigned),"to do"===e&&s.a.createElement("form",{onSubmit:e=>f(e,t.id)},s.a.createElement("div",{className:"input-container"},s.a.createElement("input",{type:"text",className:"form-control mb-2",placeholder:"Enter name",value:v,onChange:e=>((e,t)=>{g(a=>({...a,[e]:t})),p(t=>({...t,[e]:""}))})(t.id,e.target.value),required:!0}),E&&s.a.createElement("div",{className:"custom-tooltip"},E)),s.a.createElement("button",{type:"submit",className:"btn w-100"},"Assign")),"in progress"===e&&s.a.createElement("button",{className:"btn w-100 btn-done",onClick:()=>(async e=>{try{const t=Object(o.d)(l,"assignments",e);await Object(o.g)(t,{status:"done"}),a(t=>t.map(t=>t.id===e?{...t,status:"done"}:t)),d(null)}catch(r){d("Error marking task as done: "+r.message)}})(t.id)},"Done"),"done"===e&&s.a.createElement("button",{className:"btn w-100 btn-remove",onClick:()=>(e=>{N(e)})(t.id)},"Remove"),("to do"===e||"in progress"===e)&&c.length>1&&s.a.createElement("div",{className:"move-buttons"},n>0&&s.a.createElement("button",{className:"move-button",onClick:()=>j(t.id,"up")},"\u25b2"),n<c.length-1&&s.a.createElement("button",{className:"move-button",onClick:()=>j(t.id,"down")},"\u25bc"))))}))};return c?s.a.createElement("p",null,"Loading tasks..."):s.a.createElement("div",{className:"container"},r&&s.a.createElement("p",{className:"text-danger mt-3"},r),v&&s.a.createElement("div",{className:"toast-message"},v),s.a.createElement("div",{className:"row"},y("to do","To Do"),y("in progress","In Progress"),y("done","Done")),null!==k&&s.a.createElement("div",{className:"confirm-popup"},s.a.createElement("p",null,"Are you sure you want to remove this task?"),s.a.createElement("button",{onClick:async()=>{try{const e=Object(o.d)(l,"assignments",k);await Object(o.c)(e),a(e=>e.filter(e=>e.id!==k)),d(null),E("Task successfully removed"),setTimeout(()=>E(""),1e3),N(null)}catch(r){d("Error removing task: "+r.message)}}},"Yes"),s.a.createElement("button",{onClick:()=>{N(null)}},"No")))};const u={ux:"option-ux",design:"option-design",testing:"option-testing","dev frontend":"option-dev-frontend","dev backend":"option-dev-backend"};var g=function(){const[e,t]=Object(n.useState)([]),[a,c]=Object(n.useState)(!0),[r,i]=Object(n.useState)(""),[m,g]=Object(n.useState)(""),[b,p]=Object(n.useState)(""),[v,E]=Object(n.useState)("");return Object(n.useEffect)(()=>{(async()=>{const e=await Object(o.e)(Object(o.b)(l,"assignments"));t(e.docs.map(e=>({id:e.id,...e.data()}))),c(!1)})()},[]),s.a.createElement("div",{className:"container"},s.a.createElement("h1",{className:"my-4"},"Scrum Board"),s.a.createElement("div",{className:"add-task-container"},s.a.createElement("form",{onSubmit:async e=>{e.preventDefault();let a=!1;if(r?p(""):(p("Assignment field cannot be empty"),a=!0),m?E(""):(E("Please select a category"),a=!0),a)return;const n={assignment:r,category:m,status:"to do",assigned:"none"},s=await Object(o.a)(Object(o.b)(l,"assignments"),n);t(e=>[...e,{id:s.id,...n}]),i(""),g("")},className:"flex-container"},s.a.createElement("div",{className:"input-container"},s.a.createElement("input",{type:"text",className:"form-control task-input",placeholder:"Assignment",value:r,onChange:e=>i(e.target.value),required:!0}),b&&s.a.createElement("div",{className:"custom-tooltip"},b)),s.a.createElement("div",{className:"input-container"},s.a.createElement("select",{className:"form-select task-category",value:m,onChange:e=>g(e.target.value),required:!0},s.a.createElement("option",{value:"",className:"option-default"},"Select Category"),Object.keys(u).map(e=>s.a.createElement("option",{key:e,value:e,className:u[e]},e.charAt(0).toUpperCase()+e.slice(1)))),v&&s.a.createElement("div",{className:"custom-tooltip"},v)),s.a.createElement("button",{type:"submit",className:"btn add-task-button"},"Add Task"))),s.a.createElement(d,{tasks:e,setTasks:t,loading:a}))};var b=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,23)).then(t=>{let{getCLS:a,getFID:n,getFCP:s,getLCP:c,getTTFB:o}=t;a(e),n(e),s(e),c(e),o(e)})},p=a(12);const v=document.getElementById("root");Object(p.createRoot)(v).render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(g,null))),b()}},[[13,1,2]]]);
//# sourceMappingURL=main.f03eec3e.chunk.js.map